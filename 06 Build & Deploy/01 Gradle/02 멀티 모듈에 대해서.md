
### 멀티 모듈? 멀티 프로젝트?

Gradle에서 **'프로젝트'와 '모듈'은 사실상 동일한 개념**을 지칭하며, 소스 코드를 논리적 · 물리적으로 분리한 단위를 의미한다.

멀티 모듈은 아래와 같은 구성으로 이루어진다.

-  **루트 프로젝트(Root Project)
	- 빌드의 진입점이며 전체 설정을 관리
	- 루트 프로젝트에는 실제 소스 파일을 두지 말고, 전체 빌드의 공통 설정이나 서브프로젝트 목록을 관리하는 진입점으로만 사용하는 것이 좋다.

- **서브 프로젝트(Subproject)
	- 실제 소스 코드가 포함된 개별 모듈들로, 독립적인 빌드 스크립트를 가질 수 있다.

![[Pasted image 20260118173403.png]]

### 모듈의 종류

- **모듈**
	- 빌드의 독립적인 구성 단위
	- 자체적인 빌드 스크립트(`build.gradle`)와 소스 코드를 가짐.
	- 코드를 논리적으로 분리하고(예: API vs 구현) 병렬 빌드와 증분 빌드를 통해 성능을 최적화하는 도구
		- 증분빌드 : **변경된 부분만** 다시 빌드하는 방식

- **서비스 모듈**
	- 모듈들 중 독립적으로 실행 가능한 기능을 갖춘 특수한 형태
	- 특정한 비즈니스 기능을 수행하는 독립적인 애플리케이션 단위 (애플리케이션 모듈)

-  **라이브러리 모듈**
	- 다른 모듈에 기능을 제공하기 위한 부품 역할을 하며, 혼자서는 실행되지 않는다.

이 밖에 플랫폼 모듈, 빌드로직 모듈, 테스트 픽스쳐 전용 모듈 등이 존재한다.


### 모듈 분리 전략

-  **API vs 구현(Implementation)**
	- 외부로 노출되는 인터페이스와 내부의 구체적인 비즈니스 로직 및 데이터 접근 계층을 물리적으로 분리. 
	- 내부 구현의 변경이 클라이언트에 영향을 주지 않도록 함.

- **핵심 비즈니스 로직 vs 외부 인터페이스**
	- 도메인 규칙을 담고 있는 코드를 외부 인터페이스 연동부와 분리하여 핵심 로직의 순수성을 유지

- **수직적 슬라이스(Vertical Slices)**
	- 레이어별 분리 대신, 특정 기능(Feature) 단위로 UI부터 비즈니스 로직까지 하나의 모듈에 담는 방식
	- 기능 간의 결합도를 낮추고 팀 단위 개발을 용이하게 함.


### 멀티모듈을 구성하는 이유

```
하나의 프로젝트 안에서 패키지로 소스코드를 충분히 분리할 수 있는데, 굳이 번거롭게 모듈로 분리해야하는 이유는 뭐지?
```

- **지능적인 작업 회피(Work Avoidance)**
	- 단일 프로젝트 구조에서는 소스 파일 하나만 변경되어도 Gradle이 프로젝트 전체를 다시 컴파일한다.
	- 반면, 프로젝트를 여러 모듈로 나누면 Gradle은 **변경이 발생한 모듈과 그에 의존하는 모듈만 다시 빌드**하고, 변경되지 않은 모듈은 이전 결과를 재사용하여 빌드 시간을 획기적으로 줄인다.

- **병렬 실행(Parallel Execution)
	- 그래들은 기본적으로 한 번에 하나의 Task만 실행하지만, **서로 의존성이 없는 모듈들을 병렬로 동시에 빌드**가능하다.

- **클래스패스 최적화 및 의존성 격리**
	- 패키지로만 구분할 경우, 특정 패키지에서만 필요한 외부 라이브러리라도 프로젝트 전체 클래스패스에 포함될 수 밖에 없다.
	- 이는 클래스패스를 비대하게 만들고, 빌드 속도를 늦춘다.

- **명확한 아키텍처 경계 설정**
	- 패키지 방식은 실수로 다른 영역의 내부 클래스를 참조하기 쉽다.
	- 모듈 구조에서는 의존성 그래프에 명시되지 않은 코드는 아예 사용할 수 없으므로 더 견고한 아키텍처를 유지할 수 있다.

